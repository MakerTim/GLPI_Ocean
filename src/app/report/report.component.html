<div class="spacer"></div>

<div class="btn-holder">
	<button *ngFor="let item of data; let i = index" [attr.data-index]="i"
	        (click)="selectedData = i" [class]="i === selectedData ? 'btn-selected' : 'no-print'">
		<ng-container *ngIf="i === 0">Alle</ng-container>
		<ng-container *ngIf="i > 0">{{ queueNames[i - 1] }}</ng-container>
	</button>
</div>
<br>
<br>

<div #chartHolders class="stats">
	<div>
		<span *ngIf="selectedData === 0">Each desk</span>
		<canvas baseChart *ngIf="!loading && selectedData === 0"
		        [options]="pieOptions"
		        [datasets]="queueQuotaData"
		        [labels]="['new tickets']"
		        [plugins]="piePlugins"
		        [chartType]="'bar'">
		</canvas>
		<span *ngIf="selectedData > 0">Category</span>
		<canvas baseChart *ngIf="!loading && selectedData > 0"
		        [options]="pieOptions2"
		        [data]="queueQueuedCategoryData[selectedData-1]"
		        [labels]="queueQueuedCategory[selectedData-1]"
		        [plugins]="piePlugins"
		        [chartType]="doughnutChartType">
		</canvas>
		<img class="hidden" alt="" src="">
	</div>
	<div>
		<span>Status of tickets</span>
		<canvas baseChart *ngIf="!loading"
		        [options]="pieOptions2"
		        [data]="queueStatesData[selectedData]"
		        [labels]="queueStates"
		        [plugins]="piePlugins"
		        [chartType]="doughnutChartType">
		</canvas>
		<img class="hidden" alt="" src="">
	</div>
	<div>
		<span>Tickets from and for</span>
		<canvas baseChart *ngIf="!loading"
		        [options]="pieOptions"
		        [datasets]="queueUsersFromData[selectedData]"
		        [labels]="queueUsersFrom[selectedData]"
		        [plugins]="piePlugins"
		        [chartType]="doughnutChartType">
		</canvas>
		<img class="hidden" alt="" src="">
	</div>
</div>

<div class="table">
	<hot-table *ngIf="refreshData" [settings]="settings" [contextMenu]="true" [data]="data[selectedData]"
	           [colHeaders]="true"
	           [rowHeaders]="true" #hotTableComponent></hot-table>
</div>
